buildscript {
    repositories { jcenter() }
    dependencies { classpath 'org.ajoberstar:gradle-defaults:0.6.0-milestone.2' }
}

apply plugin: 'org.ajoberstar.defaults'
apply plugin: 'com.jfrog.bintray'

ext.depVersions = [
    groovy: '2.4.1',
    spock: '1.0-groovy.2.4'
]

defaults {
    id = 'ajoberstar'

    bintrayRepo = 'libraries'
    bintrayLabels = ['vcs', 'git', 'release', 'semver']

    developers = [
        [id: 'ajoberstar', name: 'Andrew Oberstar', email: 'andrew@ajoberstar.org']
    ]

    copyrightYears = '2015'
}

allprojects {
    apply plugin: 'maven-publish'
    group = 'org.ajoberstar'
}

subprojects {
    sourceCompatibility = '1.7'

    repositories {
        jcenter()
    }
}


project(':vcs-release-api') {
    apply plugin: 'java'
}

project(':vcs-release-test') {
    apply plugin: 'groovy'

    dependencies {
        compile "org.codehaus.groovy:groovy-all:${rootProject.depVersions.groovy}"
        compile "org.spockframework:spock-core:${rootProject.depVersions.spock}"
        compile project(':vcs-release-api')
    }
}

project(':vcs-release-grgit') {
    apply plugin: 'groovy'

    dependencies {
        compile "org.codehaus.groovy:groovy-all:${rootProject.depVersions.groovy}"
        compile project(':vcs-release-api')
        testCompile project(':vcs-release-test')
    }
}

wrapper {
    gradleVersion = '2.3'
}
